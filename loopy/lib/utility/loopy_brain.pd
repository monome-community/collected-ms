#N canvas 108 308 1003 415 10;
#X declare -lib mrpeach;
#X declare -path ./lib/file;
#X declare -path ./lib/sample;
#X declare -path ./lib/ui;
#X declare -path ./lib/sequence;
#X declare -path ./lib/utility;
#X declare -path ./lib/row;
#X obj 528 -75 OSC_socket;
#X text 525 -148 UTILITIES;
#X text 594 -75 OSC to/from monome;
#X text 527 -133 standard;
#X text 605 15 paths to patch library;
#X text 605 75 potentiometer router;
#N canvas 1412 597 322 209 microfade 0;
#X obj 44 -4 s microfade;
#X obj 44 -57 int;
#X floatatom 54 -30 5 0 0 0 - - -;
#X obj -12 78 s microfade-r;
#X obj 44 -86 r microfade-s;
#X obj -12 23 moses 10;
#X msg -12 50 label 0\$1ms;
#X msg 68 50 label \$1ms;
#X connect 1 0 2 0;
#X connect 1 0 0 0;
#X connect 1 0 5 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X restore 203 23 pd microfade;
#X text 655 121 clear all monome/ui led's;
#X text 678 142 clear all loaded samples;
#X text 283 22 adjust cross-fade duration;
#X text 312 -115 initialize many parameters;
#X text -17 -22 sequence recorders;
#N canvas 0 0 1174 818 beats 0;
#X obj -246 7 r bpm-4;
#X obj -236 61 r bpm-1;
#X obj -216 169 r bpm+4;
#X obj -226 115 r bpm+1;
#X msg -246 34 -4;
#X msg -236 88 -1;
#X msg -226 142 1;
#X msg -216 196 4;
#X obj -234 314 s bpm;
#X obj -246 233 t b f;
#X obj -202 233 r bpm;
#X obj -246 260 f;
#X obj -234 287 +;
#X floatatom -202 261 5 0 0 0 - - -;
#X obj -396 7 r bpm-clear;
#X msg -396 34 0;
#X obj -396 61 s bpm;
#X msg -120 205 off;
#X msg -105 185 1/32;
#X msg -75 205 1/8;
#X msg -60 185 1/4;
#X obj -120 448 s quantize-r;
#X obj -120 232 prepend label;
#X msg -90 165 1/16;
#X obj -120 145 sel 0 1 2 3 4;
#X obj -396 216 r bpm-bang;
#X obj -396 243 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 100 145 s quantize-main;
#X text -199 7 ui bpm adjustment;
#X text -330 216 ui bpm blink;
#X obj 346 224 timer;
#X obj 346 142 + 1;
#X obj 307 142 f -1;
#X obj 301 36 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 448 64 5 0 0 0 - - -;
#X obj 256 115 spigot 1;
#X msg 328 88 -1;
#X obj 438 91 - 1;
#X obj 346 197 sel 0;
#X obj 390 197 sel 1;
#X msg 301 88 1;
#X floatatom 461 333 5 0 0 0 - - -;
#X obj 417 305 int;
#X obj 417 278 expr 60000/$f1 + 0.5;
#X obj 301 9 r bpm-calibrate;
#X obj 455 251 s bpm-calibrate-r;
#X msg 465 224 color 8 8 12;
#X msg 455 197 color 18 18 8;
#X obj 438 33 r bpm-calibrate-beats;
#X obj 301 61 t b b b;
#X obj 227 88 r bpm-bang;
#X obj 368 118 < 15;
#X obj 390 170 == 15;
#X obj 417 251 / 15;
#X text 502 335 beats per minute (bpm);
#X obj 417 332 s bpm;
#X floatatom 375 252 5 0 0 0 - - -;
#X text 223 251 millisec's per beat (mpb);
#X obj -396 125 ftos;
#X msg -396 152 label \$1;
#X obj -396 98 r bpm;
#X obj -396 179 s bpm-display-r;
#X obj -396 382 r bpm;
#X obj -396 409 moses 1;
#X obj -347 463 s mpb;
#X floatatom -303 464 5 0 0 0 - - -;
#X floatatom -352 383 5 0 0 0 - - -;
#X text -350 490 to sequence recorders;
#X text -350 480 millisec's/beat;
#X obj -347 436 expr 60000/$f1;
#X text 397 9 calibrate bpm beats from clock beats;
#X text 570 34 # of beats to count for timer;
#X text 570 44 (not used yet \, set to count 16);
#X obj -379 345 s bpm-blink-r;
#X msg -386 295 color 8 8 8;
#X msg -396 320 color 11 11 11;
#X obj -386 268 delay 200;
#X obj 79 450 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg -13 245 0;
#X msg 47 282 1;
#X obj 79 367 r bpm-bang;
#X obj 99 448 s quantize-bang;
#X obj -13 448 s quantize-on;
#X msg 47 165 1;
#X msg 32 185 2;
#X msg 17 205 4;
#X msg 2 225 8;
#X obj 106 282 r mpb;
#X obj 106 309 f;
#X obj 79 421 metro;
#X obj -13 145 sel 0 1 2 3 4;
#X obj 106 336 /;
#X floatatom 138 337 5 0 0 0 - - -;
#X text 172 330 millisec's per;
#X text 172 340 quantize beat;
#X obj 94 255 t b f;
#X obj 79 394 spigot;
#X text 83 2 ui master;
#X text 82 12 quantize adjustment;
#X text 144 362 forces quantize beat;
#X text 144 372 to sync with main beat;
#X obj -13 84 f;
#X obj 23 84 + 1;
#X obj 7 62 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 61 click on ui;
#X obj 7 36 r quantize-s;
#X obj -13 9 r quantize-load;
#X obj -13 111 mod 5;
#X msg -103 406 color 8 8 12;
#X msg -84 379 color 28 28 0;
#X obj -13 316 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj -103 352 sel 0 1;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 9 0;
#X connect 5 0 9 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 9 0 11 0;
#X connect 9 1 12 1;
#X connect 10 0 11 1;
#X connect 10 0 13 0;
#X connect 11 0 12 0;
#X connect 12 0 8 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 22 0;
#X connect 18 0 22 0;
#X connect 19 0 22 0;
#X connect 20 0 22 0;
#X connect 22 0 21 0;
#X connect 23 0 22 0;
#X connect 24 0 17 0;
#X connect 24 1 18 0;
#X connect 24 2 23 0;
#X connect 24 3 19 0;
#X connect 24 4 20 0;
#X connect 25 0 26 0;
#X connect 26 0 75 0;
#X connect 26 0 76 0;
#X connect 30 0 53 0;
#X connect 31 0 38 0;
#X connect 31 0 32 1;
#X connect 31 0 51 0;
#X connect 31 0 52 0;
#X connect 32 0 31 0;
#X connect 33 0 49 0;
#X connect 34 0 37 0;
#X connect 35 0 32 0;
#X connect 36 0 32 1;
#X connect 37 0 51 1;
#X connect 37 0 52 1;
#X connect 37 0 53 1;
#X connect 38 0 30 0;
#X connect 39 0 30 1;
#X connect 39 0 46 0;
#X connect 40 0 35 1;
#X connect 42 0 41 0;
#X connect 42 0 55 0;
#X connect 43 0 42 0;
#X connect 44 0 33 0;
#X connect 46 0 45 0;
#X connect 47 0 45 0;
#X connect 48 0 37 0;
#X connect 49 0 40 0;
#X connect 49 1 36 0;
#X connect 49 2 47 0;
#X connect 50 0 35 0;
#X connect 51 0 35 1;
#X connect 52 0 39 0;
#X connect 53 0 43 0;
#X connect 53 0 56 0;
#X connect 58 0 59 0;
#X connect 59 0 61 0;
#X connect 60 0 58 0;
#X connect 62 0 63 0;
#X connect 62 0 66 0;
#X connect 63 1 69 0;
#X connect 69 0 64 0;
#X connect 69 0 65 0;
#X connect 74 0 73 0;
#X connect 75 0 73 0;
#X connect 76 0 74 0;
#X connect 78 0 89 0;
#X connect 78 0 110 0;
#X connect 79 0 110 0;
#X connect 80 0 96 0;
#X connect 83 0 95 0;
#X connect 84 0 95 0;
#X connect 85 0 95 0;
#X connect 86 0 95 0;
#X connect 87 0 88 0;
#X connect 88 0 91 0;
#X connect 89 0 81 0;
#X connect 89 0 77 0;
#X connect 90 0 78 0;
#X connect 90 1 86 0;
#X connect 90 2 85 0;
#X connect 90 3 84 0;
#X connect 90 4 83 0;
#X connect 91 0 92 0;
#X connect 91 0 89 1;
#X connect 95 0 88 0;
#X connect 95 0 79 0;
#X connect 95 1 91 1;
#X connect 96 0 89 0;
#X connect 101 0 107 0;
#X connect 102 0 101 1;
#X connect 103 0 101 0;
#X connect 105 0 103 0;
#X connect 106 0 101 0;
#X connect 107 0 102 0;
#X connect 107 0 24 0;
#X connect 107 0 27 0;
#X connect 107 0 90 0;
#X connect 108 0 21 0;
#X connect 109 0 21 0;
#X connect 110 0 96 1;
#X connect 110 0 82 0;
#X connect 110 0 111 0;
#X connect 111 0 108 0;
#X connect 111 1 109 0;
#X restore 203 -41 pd beats;
#X text 256 -46 adjust standard beats per loop;
#X text 256 -56 adjust bpm;
#X text 256 -36 adjust quantization;
#X obj 528 -55 load-meter;
#X text 594 -55 CPU load meter;
#N canvas 187 92 594 440 auto-load 0;
#X msg -7 319 color 28 28 0;
#X obj -56 195 r prefix;
#X obj -56 366 s prefix-r;
#X obj -56 247 tgl 15 0 prefix-toggle prefix-toggle-r empty 17 7 0
10 -262144 -1 -1 1 1;
#X obj -56 222 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -56 272 sel 0;
#X msg -86 299 label OFF;
#X msg 3 299 label ON;
#X obj 200 310 spigot;
#X obj 194 222 t b b f;
#X obj 200 337 s sOSC;
#X text -35 245 prefix-toggle;
#X text 11 359 set ui for;
#X text 11 369 monomeserial prefix;
#X text 301 189 receive auto-set toggle;
#X text 301 199 for monomeserial prefix;
#X text 301 209 from config file;
#X text 244 304 set prefix and clear monome;
#X text 244 314 if toggle is on;
#X obj 194 195 r prefix-toggle-r;
#X msg -7 89 color 28 28 0;
#X obj -56 17 tgl 15 0 auto-file-toggle auto-file-toggle-r empty 17
7 0 10 -262144 -1 -1 0 1;
#X obj -56 -8 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj -56 42 sel 0;
#X msg -86 69 label OFF;
#X msg 3 69 label ON;
#X text 41 129 set ui for sample set;
#X text 41 139 load last toggle;
#X obj -55 -35 r auto-file;
#X obj -56 136 s auto-file-r;
#X text -35 15 auto-file-toggle;
#X msg 194 263 send /loopy/clear;
#X msg 213 283 send /sys/prefix /loopy;
#X msg -96 89 color 8 8 12;
#X msg -96 319 color 8 8 12;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 34 0;
#X connect 5 0 6 0;
#X connect 5 1 0 0;
#X connect 5 1 7 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 8 0 10 0;
#X connect 9 0 31 0;
#X connect 9 1 32 0;
#X connect 9 2 8 1;
#X connect 19 0 9 0;
#X connect 20 0 29 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 23 0 33 0;
#X connect 23 0 24 0;
#X connect 23 1 20 0;
#X connect 23 1 25 0;
#X connect 24 0 29 0;
#X connect 25 0 29 0;
#X connect 28 0 22 0;
#X connect 31 0 8 0;
#X connect 32 0 8 0;
#X connect 33 0 29 0;
#X connect 34 0 2 0;
#X restore 203 63 pd auto-load;
#X text 284 56 auto-set/load on/off for;
#X text 284 66 monomeserial prefix \, sample set;
#X text 258 99 save & load bpm \, std beats \,;
#X text 258 109 quantize \, microfade \, monome;
#X text 258 119 layout \, pattern recorder and;
#X text 258 129 sample settings;
#X text 298 159 save & load bpm \, std beats \,;
#X text 298 169 quantize \, microfade \, monome;
#X text 298 179 layout \, sample set and prefix;
#X text 298 189 settings;
#X text 648 55 button press router;
#X text 612 35 monome layouts - button/led routing;
#N canvas 253 278 863 194 lpy_samples 0;
#X text -69 -89 containers for sample load \,;
#X text -69 -79 assign \, clear \, stop & play;
#X obj -66 -60 lpy_sample 0 1;
#X obj 110 -60 lpy_sample 2 1;
#X obj 110 -43 lpy_sample 2 2;
#X obj 198 -43 lpy_sample 3 2;
#X obj 22 -43 lpy_sample 1 2;
#X obj -66 -43 lpy_sample 0 2;
#X obj -66 8 lpy_sample 0 5;
#X obj 22 -60 lpy_sample 1 1;
#X obj 198 8 lpy_sample 3 5;
#X obj 198 -60 lpy_sample 3 1;
#X obj 286 -60 lpy_sample 4 1;
#X obj 374 -60 lpy_sample 5 1;
#X obj 462 -60 lpy_sample 6 1;
#X obj 550 -60 lpy_sample 7 1;
#X obj 286 -43 lpy_sample 4 2;
#X obj 374 -43 lpy_sample 5 2;
#X obj 462 -43 lpy_sample 6 2;
#X obj 550 -43 lpy_sample 7 2;
#X obj -66 -26 lpy_sample 0 3;
#X obj 22 -26 lpy_sample 1 3;
#X obj 110 -26 lpy_sample 2 3;
#X obj 198 -26 lpy_sample 3 3;
#X obj 286 -26 lpy_sample 4 3;
#X obj 374 -26 lpy_sample 5 3;
#X obj 462 -26 lpy_sample 6 3;
#X obj 550 -26 lpy_sample 7 3;
#X obj -66 -9 lpy_sample 0 4;
#X obj 22 -9 lpy_sample 1 4;
#X obj 110 -9 lpy_sample 2 4;
#X obj 198 -9 lpy_sample 3 4;
#X obj 286 -9 lpy_sample 4 4;
#X obj 374 -9 lpy_sample 5 4;
#X obj 462 -9 lpy_sample 6 4;
#X obj 550 -9 lpy_sample 7 4;
#X obj 22 8 lpy_sample 1 5;
#X obj 110 8 lpy_sample 2 5;
#X obj 286 8 lpy_sample 4 5;
#X obj 374 8 lpy_sample 5 5;
#X obj 462 8 lpy_sample 6 5;
#X obj 550 8 lpy_sample 7 5;
#X obj -66 25 lpy_sample 0 6;
#X obj 22 25 lpy_sample 1 6;
#X obj 110 25 lpy_sample 2 6;
#X obj 198 25 lpy_sample 3 6;
#X obj 286 25 lpy_sample 4 6;
#X obj 374 25 lpy_sample 5 6;
#X obj 462 25 lpy_sample 6 6;
#X obj 550 25 lpy_sample 7 6;
#X obj -66 42 lpy_sample 0 7;
#X obj 22 42 lpy_sample 1 7;
#X obj 110 42 lpy_sample 2 7;
#X obj 198 42 lpy_sample 3 7;
#X obj 286 42 lpy_sample 4 7;
#X obj 374 42 lpy_sample 5 7;
#X obj 462 42 lpy_sample 6 7;
#X obj 550 42 lpy_sample 7 7;
#X restore -117 -115 pd lpy_samples;
#N canvas 37 239 369 175 lpy_rows 0;
#X obj -9 -25 lpy_row 1;
#X obj -9 -8 lpy_row 2;
#X obj -9 9 lpy_row 3;
#X obj -9 43 lpy_row 5;
#X obj -9 26 lpy_row 4;
#X obj -9 60 lpy_row 6;
#X obj -9 77 lpy_row 7;
#X restore -117 -65 pd lpy_rows;
#N canvas 53 330 684 328 lpy_sequences 0;
#N canvas 736 558 411 302 lpy_sequence_press 0;
#X obj -280 -100 r sequence-press;
#X obj -280 -73 unpack f f f;
#X msg -203 75 \; \$1-tap bang;
#X obj -295 48 f;
#X obj -203 48 f;
#X msg -295 75 \; \$1-reset bang;
#X text -294 135 quickly \, then send reset;
#X text -294 125 if sequence button tapped 2x;
#X text -294 105 if sequence button tapped 1x;
#X text -294 115 quickly \, then send tap;
#X obj -203 11 tapNohold_2X;
#X obj -60 -63 unpack f f f;
#X msg 17 98 \; \$1-tap bang;
#X obj -75 71 f;
#X obj 17 71 f;
#X msg -75 98 \; \$1-reset bang;
#X obj 9 -36 pipe 1;
#X obj -60 31 - 0;
#X obj 9 31 tapNohold_2X;
#X obj -203 -16 i;
#X obj -280 -46 t b f;
#X connect 0 0 1 0;
#X connect 1 0 20 0;
#X connect 1 2 19 1;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 10 0 4 0;
#X connect 10 1 3 0;
#X connect 11 0 17 0;
#X connect 11 2 16 0;
#X connect 13 0 15 0;
#X connect 14 0 12 0;
#X connect 16 0 18 0;
#X connect 17 0 14 1;
#X connect 17 0 13 1;
#X connect 18 0 14 0;
#X connect 18 1 13 0;
#X connect 19 0 10 0;
#X connect 20 0 19 0;
#X connect 20 1 3 1;
#X connect 20 1 4 1;
#X restore 30 55 pd lpy_sequence_press;
#N canvas 23 234 434 344 lpy_sequence_send 0;
#X msg -28 -10 \; \$3-sequence-send \$1 \$2;
#X obj 143 -91 r sequence-send;
#X obj -28 -91 r sample-catch;
#X obj -28 -37 pack f f f;
#X obj -28 -64 unpack f f;
#X obj 30 40 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 128 -14 \; \$1-sequence-send-ui-r color 11 11 0;
#X msg 30 201 \; \$1-\$2-smp-catch-display-r color 11 11 0;
#X obj 30 134 list;
#X obj 128 92 f;
#X obj 128 65 delay 2000;
#X obj 30 65 delay 250;
#X msg 128 119 \; \$1-sequence-send-ui-r color 0 0 12;
#X msg 30 161 \; \$1-\$2-smp-catch-display-r color 0 0 12;
#X connect 1 0 3 2;
#X connect 1 0 6 0;
#X connect 1 0 9 1;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 7 0;
#X connect 2 0 8 1;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 10 0;
#X connect 5 0 11 0;
#X connect 8 0 13 0;
#X connect 9 0 12 0;
#X connect 10 0 9 0;
#X connect 11 0 8 0;
#X restore 30 95 pd lpy_sequence_send;
#N canvas 1773 101 1108 834 lpy_sequence_ctl 0;
#X obj 456 100 ftos;
#X text 514 154 send sequence length (beats) to ui;
#X obj 356 73 moses 10;
#X obj 356 46 pow;
#X obj 356 -8 t b f;
#X msg 356 19 2;
#X obj 356 -62 f;
#X obj 392 -62 + 1;
#X obj 356 -35 mod 7;
#X obj 366 -84 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 386 -85 click on ui;
#X text 500 -139 receive sequence length code from saved set;
#X text 543 74 sequence length = code^2;
#X msg 356 127 label 0\$1_beats;
#X msg 456 127 label \$1_beats;
#X obj -257 -70 f;
#X obj -221 -70 + 1;
#X obj -247 -92 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text -227 -93 click on ui;
#X obj -217 -16 tgl 15 0 \$1-record-audio-toggle \$1-record-audio-toggle-r
empty 17 7 0 10 -262144 -1 -1 0 1;
#X text -196 -18 record audio toggle;
#X text -151 4 send to recorders;
#X obj -257 -138 r sequence-mode-load;
#X obj -247 -118 r sequence-mode-ui;
#X obj -247 3 s sequence-mode;
#X obj 366 -111 r sequence-length-ui;
#X obj 417 73 s sequence-beats;
#X obj 356 154 s sequence-length-ui-r;
#X obj 423 288 r latency-slider;
#X obj 413 342 int;
#X obj 413 315 / 5;
#X obj 413 369 * 5;
#X obj 488 477 ftos;
#X obj 488 531 s latency-ui-r;
#X msg 488 504 label 0\$1;
#X obj 413 423 moses 10;
#X obj 488 450 moses 100;
#X obj 556 477 ftos;
#X msg 556 504 label \$1;
#X obj 413 450 ftos;
#X msg 413 477 label 00\$1;
#X obj 423 396 s latency;
#X obj -247 315 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text -227 314 click on ui;
#X text 537 -8 send sequence length code to save with config/set;
#X msg -257 502 4;
#X msg -240 475 8;
#X obj -217 529 s seq-count-in-beats;
#X obj -247 288 r sequence-count-in-beats-ui;
#X obj -257 583 s sequence-count-in-beats-ui-r;
#X obj 84 315 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 104 314 click on ui;
#X obj 74 340 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 74 392 sel 0 1;
#X obj 84 288 r sequence-count-in-click-ui;
#X msg 74 446 label click_off;
#X msg 93 419 label click_on;
#X obj 74 473 s sequence-count-in-click-ui-r;
#X text 240 359 send count-in click mode;
#X text -188 367 send count-in beats code;
#X text -188 377 to save with config/set;
#X text -257 240 set count-in length in beats;
#X text 73 240 set count-in click on/off;
#X text 240 379 to save with config/set;
#X text 240 369 to recorders and;
#X text -92 524 send count-in beats;
#X text 483 406 to save with config/set;
#X text 483 396 to recorders and;
#X text 483 386 send latency adjustment;
#X text 413 240 set external audio latency adjustment (millisec's)
;
#X obj 356 -138 r sequence-length-load;
#X obj -257 261 r sequence-count-in-beats-load;
#X obj 74 261 r sequence-count-in-click-load;
#X obj 84 365 s sequence-count-in-click;
#X text -92 534 to recorders;
#X obj 413 261 r latency-load;
#X obj 406 -8 s sequence-length;
#X obj 533 288 s latency-slider-r;
#X obj -247 394 s sequence-count-in-beats;
#X obj -257 340 f;
#X obj -221 340 + 1;
#X obj -257 367 mod 3;
#X obj -257 421 sel 0 1 2;
#X msg -223 448 16;
#X msg -257 556 label 0\$1_beats;
#X msg -147 556 label \$1_beats;
#X obj -257 -43 mod 5;
#X obj -217 -43 > 1;
#X text -194 -55 sequence record mode;
#X text -194 -45 (0=button \, 1=button row n \, 2=audio all rows;
#X text -188 -35 3=audio row n \, 4=audio external only);
#X obj -212 71 f \$1;
#X text -72 187 set ui for;
#X text -72 197 sequence record mode;
#X obj -257 24 sel 0 1 2 3 4;
#X obj -242 131 f \$1;
#X msg -242 151 label Button-\$1;
#X msg -197 51 label Audio-EXT;
#X msg -212 91 label Audio-\$1;
#X msg -227 111 label Audio-ALL;
#X msg -257 171 label Button-ALL;
#X obj -197 193 s sequence-mode-ui-r;
#X connect 0 0 14 0;
#X connect 2 0 13 0;
#X connect 2 1 0 0;
#X connect 3 0 2 0;
#X connect 3 0 26 0;
#X connect 4 0 5 0;
#X connect 4 1 3 1;
#X connect 5 0 3 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 7 0;
#X connect 8 0 4 0;
#X connect 8 0 76 0;
#X connect 9 0 6 0;
#X connect 13 0 27 0;
#X connect 14 0 27 0;
#X connect 15 0 86 0;
#X connect 16 0 15 1;
#X connect 17 0 15 0;
#X connect 22 0 15 0;
#X connect 23 0 17 0;
#X connect 25 0 9 0;
#X connect 28 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 29 0;
#X connect 31 0 35 0;
#X connect 31 0 41 0;
#X connect 32 0 34 0;
#X connect 34 0 33 0;
#X connect 35 0 39 0;
#X connect 35 1 36 0;
#X connect 36 0 32 0;
#X connect 36 1 37 0;
#X connect 37 0 38 0;
#X connect 38 0 33 0;
#X connect 39 0 40 0;
#X connect 40 0 33 0;
#X connect 42 0 79 0;
#X connect 45 0 84 0;
#X connect 45 0 47 0;
#X connect 46 0 84 0;
#X connect 46 0 47 0;
#X connect 48 0 42 0;
#X connect 50 0 52 0;
#X connect 52 0 53 0;
#X connect 52 0 73 0;
#X connect 53 0 55 0;
#X connect 53 1 56 0;
#X connect 54 0 50 0;
#X connect 55 0 57 0;
#X connect 56 0 57 0;
#X connect 70 0 6 0;
#X connect 71 0 79 0;
#X connect 72 0 52 0;
#X connect 75 0 77 0;
#X connect 79 0 81 0;
#X connect 80 0 79 1;
#X connect 81 0 80 0;
#X connect 81 0 78 0;
#X connect 81 0 82 0;
#X connect 82 0 45 0;
#X connect 82 1 46 0;
#X connect 82 2 83 0;
#X connect 83 0 47 0;
#X connect 83 0 85 0;
#X connect 84 0 49 0;
#X connect 85 0 49 0;
#X connect 86 0 16 0;
#X connect 86 0 24 0;
#X connect 86 0 87 0;
#X connect 86 0 94 0;
#X connect 87 0 19 0;
#X connect 91 0 98 0;
#X connect 94 0 100 0;
#X connect 94 1 95 0;
#X connect 94 2 99 0;
#X connect 94 3 91 0;
#X connect 94 4 97 0;
#X connect 95 0 96 0;
#X connect 96 0 101 0;
#X connect 97 0 101 0;
#X connect 98 0 101 0;
#X connect 99 0 101 0;
#X connect 100 0 101 0;
#X restore 30 15 pd lpy_sequence_ctl;
#N canvas 1497 449 551 361 lpy_sequence_click 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array lpy-tick 440 float 3;
#A 0 0 0.175842 0.341919 0.488892 0.608643 0.694397 0.741486 0.747223
0.711273 0.635681 0.524658 0.384369 0.222595 0.0484619 -0.128326 -0.298035
-0.451111 -0.578979 -0.674622 -0.732697 -0.749786 -0.725189 -0.660095
-0.558197 -0.425201 -0.268433 -0.0968018 0.0802917 0.25293 0.411377
0.547028 0.652008 0.720795 0.749268 0.735992 0.681702 0.589447 0.464264
0.313171 0.144653 -0.0318604 -0.206757 -0.369965 -0.512695 -0.626709
-0.705841 -0.745636 -0.743774 -0.7005 -0.618195 -0.501343 -0.356628
-0.191956 -0.016571 0.159637 0.327057 0.476196 0.598755 0.687958 0.7388
0.748474 0.7164 0.644348 0.536377 0.398529 0.238403 0.065094 -0.111969
-0.282715 -0.437744 -0.568329 -0.667206 -0.728943 -0.749969 -0.729248
-0.667786 -0.569183 -0.438751 -0.283875 -0.113251 0.0637512 0.237183
0.39743 0.535492 0.643707 0.715973 0.748413 0.738983 0.688507 0.599548
0.477142 0.328247 0.160919 -0.0153503 -0.190674 -0.355469 -0.500458
-0.617401 -0.700104 -0.743622 -0.745758 -0.706268 -0.627441 -0.51358
-0.371124 -0.207977 -0.0332031 0.143402 0.312073 0.463257 0.588593
0.681213 0.735779 0.749329 0.7211 0.652679 0.547882 0.412476 0.25412
0.0815735 -0.0955505 -0.267242 -0.424133 -0.557312 -0.659515 -0.724854
-0.749786 -0.732941 -0.67514 -0.579865 -0.452148 -0.299194 -0.129608
0.0472107 0.221375 0.383301 0.523743 0.634949 0.710907 0.74707 0.741638
0.694885 0.609406 0.489868 0.343048 0.177124 0.00131226 -0.174622 -0.34079
-0.487915 -0.607849 -0.69397 -0.741272 -0.747375 -0.71167 -0.636383
-0.525513 -0.385498 -0.223877 -0.0497437 0.127075 0.296814 0.450104
0.578156 0.674103 0.732361 0.749878 0.725494 0.660706 0.559052 0.4263
0.269653 0.098053 -0.07901 -0.251648 -0.410339 -0.546112 -0.651398
-0.720398 -0.749268 -0.736267 -0.682251 -0.59021 -0.465302 -0.314362
-0.145935 0.0306396 0.205444 0.368896 0.511688 0.626038 0.705444 0.745422
0.743988 0.700989 0.618927 0.502319 0.357727 0.193176 0.0179138 -0.158447
-0.325867 -0.47522 -0.597961 -0.687469 -0.738586 -0.748535 -0.716766
-0.64502 -0.537231 -0.399628 -0.239655 -0.0663147 0.110657 0.281525
0.436676 0.567474 0.666626 0.728638 0.75 0.729523 0.668396 0.569977
0.439758 0.285156 0.114502 -0.0625 -0.235962 -0.396332 -0.534637 -0.643005
-0.715637 -0.74826 -0.739319 -0.688934 -0.600342 -0.47818 -0.329346
-0.16217 0.0140076 0.189453 0.35437 0.499451 0.616669 0.699615 0.743469
0.74588 0.706696 0.628174 0.514526 0.372253 0.209198 0.0344849 -0.142151
-0.310852 -0.462189 -0.58783 -0.680695 -0.735535 -0.74939 -0.721405
-0.65332 -0.548767 -0.413544 -0.255371 -0.0828247 0.0942078 0.266052
0.423065 0.556519 0.658875 0.724457 0.749817 0.733185 0.675781 0.580597
0.453186 0.300385 0.130859 -0.045929 -0.220154 -0.382141 -0.522827
-0.634308 -0.710449 -0.747009 -0.741882 -0.695374 -0.610107 -0.490814
-0.344208 -0.178345 -0.00262451 0.17337 0.339661 0.486938 0.607117
0.69342 0.741119 0.747437 0.712067 0.637085 0.526459 0.386536 0.225098
0.0511169 -0.125824 -0.295654 -0.449066 -0.577362 -0.673523 -0.732056
-0.749878 -0.725861 -0.661316 -0.559906 -0.427307 -0.270844 -0.0993652
0.0777283 0.250488 0.409271 0.545197 0.650787 0.720001 0.749146 0.736511
0.682831 0.591034 0.466217 0.315582 0.147186 -0.0293579 -0.204224 -0.367767
-0.510773 -0.625305 -0.704926 -0.745331 -0.744171 -0.701416 -0.619659
-0.503265 -0.358856 -0.194458 -0.0191345 0.157135 0.324707 0.474213
0.597198 0.68692 0.738373 0.748596 0.717163 0.64563 0.538147 0.400757
0.240845 0.0675964 -0.109406 -0.280334 -0.435577 -0.566681 -0.666046
-0.728302 -0.749969 -0.729858 -0.668945 -0.570862 -0.440857 -0.286285
-0.115784 0.0612183 0.234802 0.395233 0.533691 0.642365 0.71521 0.748199
0.739502 0.689484 0.601074 0.479156 0.330536 0.163483 -0.0127869 -0.188171
-0.35321 -0.498535 -0.615936 -0.699127 -0.743317 -0.746063 -0.707092
-0.628876 -0.515472 -0.373322 -0.21048 -0.0357971 0.140869 0.309692
0.461212 0.587006 0.680084 0.735291 0.74942 0.721863 0.653931 0.549652
0.414612 0.256561 0.0841064 -0.092926 -0.264862 -0.422028 -0.555664
-0.658203 -0.724213 -0.749725 -0.733429 -0.676361 -0.581421 -0.454193
-0.301605 -0.132141 0.0446167 0.218964 0.381042 0.521881 0.633636 0.710052
0.746857 0.742035 0.695892 0.610901 0.491821 0.345337 0.179626 0.00384521
-0.172089;
#X coords 0 1 440 -1 100 70 1;
#X restore -115 55 graph;
#X obj -115 9 soundfiler;
#X obj 128 -18 r lpy-count-in;
#N canvas 0 0 450 300 (subpatch) 0;
#X array lpy-tock 425 float 3;
#A 0 0.0590515 0.117188 0.173798 0.227966 0.27887 0.325928 0.368439
0.405792 0.437378 0.462952 0.481995 0.494385 0.499664 0.498169 0.489563
0.474213 0.452148 0.423767 0.389496 0.349792 0.305084 0.256256 0.203766
0.148407 0.0910034 0.0323486 -0.026825 -0.0855713 -0.143097 -0.19873
-0.251404 -0.30072 -0.345795 -0.386047 -0.420807 -0.449768 -0.472412
-0.488403 -0.49765 -0.499939 -0.495117 -0.483398 -0.465057 -0.440033
-0.408966 -0.372131 -0.330109 -0.283447 -0.232849 -0.178955 -0.12265
-0.0645142 -0.00552368 0.0535278 0.111877 0.168579 0.222992 0.274323
0.321655 0.364655 0.402496 0.434692 0.460815 0.48053 0.493439 0.499512
0.498596 0.490662 0.475952 0.454498 0.426666 0.392944 0.353699 0.309509
0.260956 0.208832 0.153656 0.0964966 0.0378418 -0.0212708 -0.0801392
-0.137817 -0.193604 -0.246643 -0.296265 -0.341797 -0.382477 -0.417816
-0.447296 -0.470612 -0.487213 -0.49707 -0.499969 -0.49588 -0.484833
-0.46698 -0.442657 -0.412109 -0.375793 -0.334259 -0.287994 -0.237762
-0.184143 -0.12793 -0.0700073 -0.0111084 0.0480652 0.106415 0.163361
0.218018 0.269653 0.317444 0.36087 0.399139 0.431946 0.458649 0.478943
0.492554 0.499207 0.498993 0.49173 0.477539 0.456787 0.429565 0.396332
0.357635 0.313782 0.265686 0.213806 0.158966 0.101837 0.0433655 -0.0157471
-0.074646 -0.132477 -0.188446 -0.241852 -0.29184 -0.337646 -0.378876
-0.414734 -0.444885 -0.468658 -0.485901 -0.49649 -0.499969 -0.496521
-0.486176 -0.468994 -0.44516 -0.415222 -0.379425 -0.338348 -0.292511
-0.242584 -0.189301 -0.133301 -0.07547 -0.0166321 0.0425415 0.101044
0.158081 0.213043 0.264984 0.313171 0.356934 0.395844 0.429138 0.45639
0.477356 0.491577 0.498901 0.499298 0.492676 0.479156 0.459015 0.432373
0.399719 0.36145 0.318085 0.270355 0.218811 0.164185 0.10733 0.0488892
-0.0101929 -0.0691833 -0.127136 -0.183319 -0.23703 -0.287292 -0.333557
-0.375275 -0.411591 -0.442261 -0.466675 -0.48465 -0.495728 -0.499939
-0.497162 -0.487396 -0.470856 -0.447723 -0.418304 -0.383026 -0.342377
-0.297028 -0.247406 -0.194366 -0.138641 -0.0809937 -0.0221252 0.0370178
0.0956116 0.152863 0.207977 0.260254 0.308838 0.353119 0.392395 0.4263
0.454102 0.475647 0.490479 0.498535 0.499573 0.493561 0.480743 0.461151
0.43512 0.403015 0.365234 0.322357 0.275024 0.223755 0.169434 0.112701
0.0543823 -0.00466919 -0.0636902 -0.121826 -0.178162 -0.232086 -0.282776
-0.329468 -0.371552 -0.408447 -0.439667 -0.464661 -0.483246 -0.495026
-0.499878 -0.497681 -0.488617 -0.472717 -0.450134 -0.421326 -0.386536
-0.346375 -0.301453 -0.252197 -0.199524 -0.143921 -0.0864563 -0.0276184
0.0314636 0.0901184 0.147614 0.203003 0.255463 0.304474 0.349152 0.388947
0.42337 0.451782 0.473877 0.48941 0.498077 0.499786 0.494415 0.482269
0.463287 0.437805 0.40625 0.368958 0.326599 0.279602 0.228699 0.174591
0.118073 0.0598755 0.000854492 -0.058136 -0.116455 -0.172974 -0.227173
-0.278198 -0.325287 -0.367767 -0.405243 -0.437042 -0.462585 -0.481781
-0.494232 -0.499664 -0.49823 -0.489777 -0.474457 -0.452515 -0.424255
-0.390045 -0.350372 -0.305817 -0.256958 -0.204529 -0.149231 -0.0918579
-0.0331726 0.0259399 0.0847168 0.142303 0.197845 0.250793 0.299988
0.345154 0.385498 0.420349 0.449371 0.472137 0.488251 0.497528 0.499878
0.49527 0.483643 0.465332 0.44046 0.409485 0.372681 0.33075 0.28421
0.233582 0.179779 0.123474 0.0653687 0.00637817 -0.0526428 -0.111023
-0.167786 -0.222198 -0.27359 -0.321014 -0.364105 -0.401978 -0.434235
-0.46051 -0.480255 -0.493347 -0.499451 -0.498688 -0.490814 -0.476166
-0.454865 -0.427155 -0.393494 -0.354248 -0.310211 -0.261688 -0.209595
-0.15451 -0.0973206 -0.0387268 0.0204163 0.0792847 0.136993 0.192749
0.245911 0.295624 0.341125 0.381927 0.417297 0.44696 0.470276 0.487
0.496979 0.5 0.495972 0.484985 0.467377 0.443054 0.412567 0.376404
0.334869 0.288696 0.238464 0.184937 0.128815 0.0708923 0.0119324 -0.0472107
-0.10556 -0.162628 -0.217224 -0.26889 -0.316772 -0.360291 -0.398621
-0.431488 -0.458344 -0.478668 -0.492401 -0.499176 -0.499023 -0.491913
-0.477844 -0.457123 -0.429962 -0.396881 -0.358246 -0.314453 -0.266418
-0.2146 -0.15979 -0.102692 -0.04422 0.0148926;
#X coords 0 1 425 -1 100 70 1;
#X restore -115 215 graph;
#X obj -115 172 soundfiler;
#X msg -115 -18 read -resize tick.wav lpy-tick;
#X msg -115 145 read -resize tock.wav lpy-tock;
#X obj 128 109 tabplay~ lpy-tick;
#X obj 127 156 throw~ 1-out-L;
#X obj 138 136 throw~ 1-out-R;
#X obj 277 156 throw~ 1-out-L;
#X obj 288 136 throw~ 1-out-R;
#X obj 278 109 tabplay~ lpy-tock;
#X obj 128 9 mod 4;
#X obj 128 36 sel 0;
#X obj 278 84 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 2 0 13 0;
#X connect 5 0 1 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 12 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 14 0 7 0;
#X connect 14 1 15 0;
#X connect 15 0 12 0;
#X restore 30 135 pd lpy_sequence_click;
#X text -59 -4 7 recorders;
#X text 152 8 master settings for recorder input mode \, length \,
count-in beats and click \, and external audio latency adjustment;
#X text 162 55 distinguish single- vs. double-tap of recorder buttons
;
#X text 156 95 general handling of send recording to sample bank;
#X text 162 135 generate count-in click;
#X obj -61 15 sequence 1;
#X obj -61 35 sequence 2;
#X obj -61 75 sequence 4;
#X obj -61 55 sequence 3;
#X obj -61 95 sequence 5;
#X obj -61 115 sequence 6;
#X obj -61 135 sequence 7;
#X restore -117 -15 pd lpy_sequences;
#X obj 203 103 lpy_save;
#X obj 204 123 lpy_load;
#X obj 203 164 lpy_save_config;
#X obj 203 184 lpy_load_config;
#N canvas 85 132 1195 769 lpy_initialize 0;
#X obj 325 -137 loadbang;
#X obj 838 85 s monome-size;
#X obj -102 227 s master-gain-r;
#X msg -1 227 \; \$1-gain-r \$2;
#X obj -1 146 t f b;
#X obj -1 200 pack f f;
#X text -51 63 set initial mixer volume;
#X obj 738 243 s bpm;
#X msg 738 216 120;
#X obj 378 235 s microfade-r;
#X msg 378 208 3;
#X msg -102 200 0.8;
#X text 838 101 1 = 64;
#X text 838 111 2 = 128 horizontal;
#X text 838 121 3 = 128 vertical;
#X text 838 131 4 = 256;
#X text 952 4 clear all samples;
#X obj 838 4 s clear-all-sample;
#X obj 838 31 s clear-all-led;
#X text 935 31 clear all LEDs;
#X msg 26 173 0.8;
#X msg 838 58 1;
#X obj -102 146 delay 100;
#X obj 129 255 t f b;
#X obj 129 309 pack f f;
#X obj 388 -135 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -41 375 t f b;
#X obj -41 429 pack f f;
#X text 766 381 beats per loop;
#X text 766 219 beats per minute;
#X text 766 209 set initial;
#X obj 738 405 s beats-r;
#X msg -14 402 0;
#X text 766 371 set initial standard;
#X obj 738 298 s quantize-r;
#X msg 738 271 2;
#X text 765 270 set initial quantization;
#X text 738 313 0 = off;
#X text 738 323 1 = 1/32;
#X text 738 333 2 = 1/16;
#X text 738 343 3 = 1/8;
#X text 738 353 4 = 1/4;
#X text 408 202 set cross-fade;
#X text 408 212 in millisec's;
#X msg 738 378 8.1;
#X text 806 398 (PD BUG: sending 8.1;
#X text 806 408 to set value to 8;
#X text 806 418 Sending 8 actually sets;
#X text 806 428 to 7.999999);
#X obj 838 185 s prefix-toggle-r;
#X msg 838 158 0;
#X obj 325 -110 t b b b b b b b b b b b b b;
#X text 865 152 set monome serial prefix;
#X text 865 162 0=manual \, 1=auto-load;
#X obj 323 46 s load-config;
#X obj 228 185 s tap2X-millisec;
#X msg 228 158 300;
#X text 260 154 set double tap time (millisec's);
#X text 260 164 to reset sequence recorder;
#X text 507 -115 NOTE: DISCONNECTED ITEMS ARE NOW SET AUTOMATICALLY
FROM SAVED CONFIG FILE (SEE HELP FOR MORE INFO);
#X obj -1 119 for++ 1 7 1;
#X obj 129 228 for++ 1 7 1;
#X msg 156 282 3;
#X text 184 266 set initial sequence record length to n \,;
#X text 184 276 where 2^n = beats;
#X text 184 286 (e.g. \, n=3 \, length = 2^3=8 beats);
#X msg 129 336 \; \$1-sequence-length \$2;
#X obj -41 348 for++ 1 7 1;
#X text 12 390 set initial sequence record mode;
#X text 12 400 (0=button \, 1=audio all \, 2=audio all rows;
#X text 18 410 3=audio row n \, 4=audio external only);
#X msg -41 456 \; \$1-sequence-mode-load \$2;
#X obj 339 340 s sequence-length;
#X msg 292 319 3;
#X obj 188 477 s sequence-mode-load;
#X msg 167 445 0;
#X obj -102 64 t b b b;
#X msg 78 92 0.5;
#X obj -97 259 s 1-out-gain-r;
#X obj -87 279 s 2-out-gain-r;
#X obj -77 299 s 3-out-gain-r;
#X obj -67 319 s 4-out-gain-r;
#X obj 78 119 s in-gain-r;
#X connect 0 0 51 0;
#X connect 4 0 5 0;
#X connect 4 1 20 0;
#X connect 5 0 3 0;
#X connect 8 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 2 0;
#X connect 11 0 78 0;
#X connect 11 0 79 0;
#X connect 11 0 80 0;
#X connect 11 0 81 0;
#X connect 20 0 5 1;
#X connect 21 0 1 0;
#X connect 22 0 11 0;
#X connect 23 0 24 0;
#X connect 23 1 62 0;
#X connect 24 0 66 0;
#X connect 25 0 51 0;
#X connect 26 0 27 0;
#X connect 26 1 32 0;
#X connect 27 0 71 0;
#X connect 32 0 27 1;
#X connect 35 0 34 0;
#X connect 44 0 31 0;
#X connect 50 0 49 0;
#X connect 51 0 76 0;
#X connect 51 1 75 0;
#X connect 51 2 73 0;
#X connect 51 3 56 0;
#X connect 51 7 54 0;
#X connect 51 11 18 0;
#X connect 51 12 17 0;
#X connect 56 0 55 0;
#X connect 60 0 4 0;
#X connect 61 0 23 0;
#X connect 62 0 24 1;
#X connect 67 0 26 0;
#X connect 73 0 72 0;
#X connect 75 0 74 0;
#X connect 76 0 22 0;
#X connect 76 1 60 0;
#X connect 76 2 77 0;
#X connect 77 0 82 0;
#X restore 203 -115 pd lpy_initialize;
#N canvas 419 344 469 269 lpy_paths 0;
#X obj 6 9 declare -path ./lib/file;
#X obj 6 49 declare -path ./lib/sample;
#X obj 6 89 declare -path ./lib/ui;
#X obj 6 69 declare -path ./lib/sequence;
#X obj 6 109 declare -path ./lib/utility;
#X obj 6 29 declare -path ./lib/row;
#X restore 528 15 pd lpy_paths;
#N canvas 218 329 396 248 lpy_layout 0;
#X text 114 48 monome->pd button transpose;
#X text 140 99 pd->monome led transpose;
#X text 74 -72 select monome layout on ui;
#X text 109 -32 on monome layout change;
#X text 109 -22 stop samples \, clear leds;
#N canvas 651 302 601 437 lpy-layout-ui 0;
#X obj -119 -66 r monome-size;
#X obj -89 94 s monome-size-64;
#X msg -36 18 color 28 28 0;
#X text -27 -69 1 = 64;
#X text -27 -59 2 = 128 horizontal;
#X obj -99 114 s monome-size-128H;
#X obj -109 134 s monome-size-128V;
#X obj -119 154 s monome-size-256;
#X obj -69 45 gate 4;
#X text 17 91 on monome layout change;
#X text 17 101 change ui monome shape colors;
#X obj -274 121 r page;
#X text -231 115 0 = left;
#X text -231 125 1 = right;
#X obj -274 148 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj -274 227 sel 0;
#X obj -274 200 t f b;
#X msg -74 298 color 0 0 0;
#X obj -274 173 f;
#X obj -226 45 gate 4;
#X obj -119 -39 t b f b;
#X text -27 -49 3 = 128 vertical (not used);
#X text -27 -39 4 = 256 (not used);
#X obj -74 271 loadbang;
#X msg -119 18 color 8 8 12;
#X obj -274 335 s ui-page-r;
#X msg -184 271 color 28 28 0;
#X msg -264 298 label L;
#X msg -174 298 label R;
#X msg -274 271 color 8 8 28;
#X obj -74 335 s page-label-ui-r;
#X msg 6 298 color 26 0;
#X connect 0 0 20 0;
#X connect 2 0 8 1;
#X connect 8 0 1 0;
#X connect 8 1 5 0;
#X connect 8 2 6 0;
#X connect 8 3 7 0;
#X connect 11 0 14 0;
#X connect 14 0 18 0;
#X connect 15 0 29 0;
#X connect 15 1 26 0;
#X connect 16 0 15 0;
#X connect 16 1 31 0;
#X connect 17 0 25 0;
#X connect 17 0 30 0;
#X connect 18 0 16 0;
#X connect 19 0 18 0;
#X connect 19 1 17 0;
#X connect 19 2 18 0;
#X connect 19 3 17 0;
#X connect 20 0 2 0;
#X connect 20 0 19 1;
#X connect 20 1 8 0;
#X connect 20 1 19 0;
#X connect 20 2 24 0;
#X connect 23 0 17 0;
#X connect 24 0 1 0;
#X connect 24 0 5 0;
#X connect 24 0 6 0;
#X connect 24 0 7 0;
#X connect 26 0 25 0;
#X connect 26 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 25 0;
#X connect 29 0 25 0;
#X connect 29 0 27 0;
#X connect 31 0 30 0;
#X restore -29 -66 pd lpy-layout-ui;
#N canvas 0 0 338 182 lpy-layout-all-stop 0;
#X obj -24 -45 r monome-size;
#X text 59 0 on monome layout change;
#X text 59 10 stop samples \, clear leds;
#X obj -24 -18 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -14 7 s lpy-stop;
#X obj -24 34 s clear-all-led;
#X connect 0 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 5 0;
#X restore -29 -26 pd lpy-layout-all-stop;
#N canvas 557 178 630 475 lpy-transpose-button 0;
#X obj -150 304 s matrix-transpose;
#X obj -51 -42 gate 4;
#X obj -51 -96 r monome-size;
#X text 89 24 1 = 64;
#X text -97 185 2 = 128 horizontal;
#X text 89 34 3 = 128 vertical;
#X text -97 195 4 = 256;
#X obj 115 277 pack f f f;
#X obj 115 304 s matrix-transpose;
#X obj -18 -69 r matrix-in;
#X floatatom -93 -41 5 0 0 0 - - -;
#X text 59 -70 input from monome (see OSC_socket);
#X text -151 324 for 16 button wide configurations \,;
#X text 114 324 for 8 button wide configurations \,;
#X text 39 -96 monome layout from ui;
#X obj 115 68 unpack f f f;
#X obj 307 80 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 134 250 f;
#X obj 169 250 f;
#X obj 115 174 +;
#X obj 115 201 t f b b;
#X text -151 334 do not change button press coordinates;
#X obj 307 53 r page;
#X obj 130 105 expr if($f1>0 && $f2==1 \, 8 \, 0);
#X text 266 20 page L(0)/R(1) for 8 button;
#X text 266 30 wide configurations;
#X text 114 334 if page=1 \, for row other than 0;
#X text 114 344 map col 0-7 to col 8-15;
#X connect 1 0 15 0;
#X connect 1 1 0 0;
#X connect 1 2 15 0;
#X connect 1 3 0 0;
#X connect 2 0 1 0;
#X connect 2 0 10 0;
#X connect 7 0 8 0;
#X connect 9 0 1 1;
#X connect 15 0 19 0;
#X connect 15 1 17 1;
#X connect 15 1 23 0;
#X connect 15 2 18 1;
#X connect 16 0 23 1;
#X connect 17 0 7 1;
#X connect 18 0 7 2;
#X connect 19 0 20 0;
#X connect 20 0 7 0;
#X connect 20 1 17 0;
#X connect 20 2 18 0;
#X connect 22 0 16 0;
#X connect 23 0 19 1;
#X restore -30 54 pd lpy-transpose-button;
#N canvas 398 139 456 357 lpy_transpose_led_single 0;
#X obj -290 12 s leds-out;
#X obj -301 -122 gate 4;
#X obj -301 -226 r monome-size;
#X floatatom -338 -121 5 0 0 0 - - -;
#X text -211 -226 monome layout from ui;
#X obj -268 -199 r leds;
#X text -223 -200 output to individual LEDs;
#X obj -253 -168 s leds-out;
#X text -257 -97 4 = 256;
#X text -257 -117 2 = 128 horizontal;
#X text -257 -127 1 = 64;
#X text -257 -107 3 = 128 vertical;
#X obj -290 -69 unpack f f f;
#X text -184 -162 led message to leftmost 8 columns;
#X text -184 -172 for all configurations \, send single;
#X obj -290 -42 + 8;
#X obj -290 -15 pack f f f;
#X text -221 17 led message to rightmost 8 columns as well;
#X text -221 7 for 16 button wide configurations \, send single;
#X text -304 -259 SINGLE LED MESSAGES ONLY COME FROM ROWS IN MULTI
MODE \,;
#X text -304 -249 WHERE LEFT AND RIGHT SIDE LED'S ARE EXACTLY THE SAME.
;
#X connect 1 1 12 0;
#X connect 1 3 12 0;
#X connect 2 0 1 0;
#X connect 2 0 3 0;
#X connect 5 0 1 1;
#X connect 5 0 7 0;
#X connect 12 0 15 0;
#X connect 12 1 16 1;
#X connect 12 2 16 2;
#X connect 15 0 16 0;
#X connect 16 0 0 0;
#X restore -29 94 pd lpy_transpose_led_single;
#N canvas 0 0 479 404 lpy_transpose_led_row 0;
#X obj -73 150 s sOSC;
#X msg -73 123 send /loopy/led_row \$1 \$2 \$3;
#X obj -106 80 gate 4;
#X obj -106 53 r monome-size;
#X text -238 53 monome layout from ui;
#X text -54 93 2 = 128 horizontal;
#X text -54 103 4 = 256;
#X obj -94 179 r page;
#X obj -94 206 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj -138 352 s sOSC;
#X obj 32 352 s sOSC;
#X msg -138 325 send /loopy/led_row \$1 \$2;
#X msg 32 325 send /loopy/led_row \$1 \$3;
#X obj 32 298 spigot;
#X obj -138 231 t b l;
#X obj -138 268 list;
#X obj -94 268 == 0;
#X obj -138 298 spigot;
#X text -244 223 1= 64;
#X text -244 233 3 = 128 vertical;
#X obj -73 26 r led-row;
#X text -74 205 page L(0)/R(1) for 8 button wide configurations;
#X msg -186 160 0 0 0;
#X obj -196 115 loadbang;
#X text -234 -19 RWO LED MESSAGES COME FROM ROWS IN SINGLE OR CUE MODE.
;
#X text -234 -9 LEFT SIDE OR ROW SHOWS SAMPLE SELECT \, AND RIGHT SIDE
;
#X text -234 1 OF ROW SHOWS SAMPLE PLAY POSITION;
#X text -23 145 for 16 button wide configurations \, send;
#X text -23 155 left and right side of row at once;
#X connect 1 0 0 0;
#X connect 2 0 14 0;
#X connect 2 1 1 0;
#X connect 2 2 14 0;
#X connect 2 3 1 0;
#X connect 3 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 13 1;
#X connect 8 0 16 0;
#X connect 11 0 9 0;
#X connect 12 0 10 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 15 1;
#X connect 15 0 17 0;
#X connect 15 0 13 0;
#X connect 16 0 17 1;
#X connect 17 0 11 0;
#X connect 20 0 2 1;
#X connect 22 0 14 0;
#X connect 23 0 22 0;
#X restore -29 114 pd lpy_transpose_led_row;
#N canvas 768 300 474 656 lpy-page 0;
#X obj -295 415 t b b f;
#X msg -295 469 0;
#X msg -276 442 0;
#X obj -295 496 pack f f f;
#X obj -295 523 s leds-out;
#X obj -306 -62 unpack f f f;
#X obj -306 15 sel 1;
#X obj -295 363 tgl 15 0 page empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj -306 -89 r matrix-in;
#X text -229 -90 input from monome (see OSC_socket);
#X text -278 363 page left (0) / right (1) for 8 button wide configurations
;
#X obj -295 249 r monome-size;
#X text -203 246 1 = 64;
#X text -203 256 2 = 128 horizontal;
#X obj -295 336 gate 4;
#X text -203 276 4 = 256;
#X text -203 266 3 = 128 vertical;
#X obj -357 309 sel 1;
#X obj -357 336 delay 10;
#X obj -295 388 f;
#X obj -295 276 t f b;
#X msg -245 336 0;
#X obj -262 172 r ui-page;
#X obj -262 224 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj -262 199 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -306 -25 expr if ($f1==0 && $f2==0 && $f3==1 \, 1 \, 0) \; if
($f1==0 && $f2==0 && $f3==0 \, 1 \, 0);
#X obj -51 15 sel 1;
#X obj -266 41 delay 2000;
#X obj -140 134 spigot;
#X msg -306 41 1;
#X msg -107 78 0;
#X msg -266 78 0;
#X obj -339 134 spigot;
#X text -298 130 tap page button;
#X text -298 140 switch page;
#X text -98 130 hold page button;
#X text -98 140 fade out & stop all;
#X obj -140 161 s stop-all;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 3 2;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 5 0 25 0;
#X connect 5 1 25 1;
#X connect 5 2 25 2;
#X connect 6 0 29 0;
#X connect 6 0 27 0;
#X connect 7 0 19 0;
#X connect 8 0 5 0;
#X connect 11 0 20 0;
#X connect 14 0 7 0;
#X connect 14 2 7 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 0 0;
#X connect 20 0 17 0;
#X connect 20 0 14 0;
#X connect 20 1 21 0;
#X connect 21 0 7 0;
#X connect 22 0 24 0;
#X connect 23 0 14 1;
#X connect 24 0 23 0;
#X connect 25 0 6 0;
#X connect 25 1 26 0;
#X connect 26 0 30 0;
#X connect 26 0 32 0;
#X connect 27 0 28 0;
#X connect 27 0 31 0;
#X connect 28 0 37 0;
#X connect 29 0 28 1;
#X connect 29 0 32 1;
#X connect 30 0 28 1;
#X connect 31 0 32 1;
#X connect 32 0 14 1;
#X restore -29 14 pd lpy-page;
#X text 43 14 page left/right for 8 button wide configurations;
#X text 114 58 based upon chosen layout & page;
#X text 140 109 based upon chosen layout & page;
#X text 74 -62 comment;
#X restore 528 35 pd lpy_layout;
#N canvas 276 138 653 595 lpy-button-press 0;
#X obj -56 -84 unpack f f f;
#X obj 32 53 spigot;
#X obj 32 107 s smp-press;
#X obj -83 53 spigot;
#X obj -83 107 s sequence-press;
#X obj 42 80 s smp-press-record;
#X obj -83 -112 t l l;
#X obj 172 53 spigot;
#X obj 182 80 s slice-press-record;
#X obj 172 107 s slice-press;
#X obj 9 203 r smp-press;
#X obj 171 203 r slice-press;
#X obj 171 230 unpack f f f;
#X obj 171 257 - 8;
#X obj 9 310 unpack f f f;
#X obj -2 374 spigot;
#X obj -2 337 pack f f;
#X msg -2 401 \; \$2-smp-select \$1;
#X msg 29 230 \; \$1-\$2-smp-press \$3;
#X obj 183 284 pack f f f;
#X msg 193 311 \; \$1-\$2-slice-press \$3;
#X msg 183 351 \; \$2-step-press \$1 \$3;
#X msg 19 270 \; \$2-smp-press \$1 \$3;
#X obj -83 -143 r matrix-transpose;
#X obj -56 -47 expr if ($f2==0 & $f1>=1 \, 1 \, 0) \; if ($f2!=0 &
$f1<=7 \, 1 \, 0) \; if ($f2!=0 & $f1>=8 \, 1 \, 0) \;;
#X connect 0 0 24 0;
#X connect 0 1 24 1;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 3 0 4 0;
#X connect 6 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 7 0;
#X connect 6 1 0 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 10 0 14 0;
#X connect 10 0 18 0;
#X connect 10 0 22 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 19 1;
#X connect 12 2 19 2;
#X connect 13 0 19 0;
#X connect 14 0 16 0;
#X connect 14 1 16 1;
#X connect 14 2 15 1;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 19 0 20 0;
#X connect 19 0 21 0;
#X connect 23 0 6 0;
#X connect 24 0 3 1;
#X connect 24 1 1 1;
#X connect 24 2 7 1;
#X restore 528 55 pd lpy-button-press;
#N canvas 437 174 594 262 lpy_adc 0;
#X obj -24 -4 r adc-in;
#X obj -24 137 int;
#X obj -24 164 change;
#X obj -24 23 route 0 1 2 3 4 5 6 7;
#X obj 76 137 int;
#X obj 76 164 change;
#X obj 146 137 int;
#X obj 146 164 change;
#X obj 216 137 int;
#X obj 216 164 change;
#X obj 286 137 int;
#X obj 286 164 change;
#X obj 356 137 int;
#X obj 356 164 change;
#X obj 426 137 int;
#X obj 426 164 change;
#X obj 76 218 s 1-gain-r;
#X obj 146 218 s 2-gain-r;
#X obj 216 218 s 3-gain-r;
#X obj 286 218 s 4-gain-r;
#X obj 356 218 s 5-gain-r;
#X obj 426 218 s 6-gain-r;
#X obj 496 218 s 7-gain-r;
#X obj -24 218 s master-gain-r;
#X obj 496 137 int;
#X obj 496 164 change;
#X obj 76 110 * 50;
#X obj 76 191 / 50;
#X obj -24 110 * 50;
#X obj -24 192 / 50;
#X obj 146 110 * 50;
#X obj 146 191 / 50;
#X obj 216 110 * 50;
#X obj 216 191 / 50;
#X obj 286 110 * 50;
#X obj 286 191 / 50;
#X obj 356 110 * 50;
#X obj 356 191 / 50;
#X obj 426 110 * 50;
#X obj 426 191 / 50;
#X obj 496 110 * 50;
#X obj 496 191 / 50;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 29 0;
#X connect 3 0 28 0;
#X connect 3 1 26 0;
#X connect 3 2 30 0;
#X connect 3 3 32 0;
#X connect 3 4 34 0;
#X connect 3 5 36 0;
#X connect 3 6 38 0;
#X connect 3 7 40 0;
#X connect 4 0 5 0;
#X connect 5 0 27 0;
#X connect 6 0 7 0;
#X connect 7 0 31 0;
#X connect 8 0 9 0;
#X connect 9 0 33 0;
#X connect 10 0 11 0;
#X connect 11 0 35 0;
#X connect 12 0 13 0;
#X connect 13 0 37 0;
#X connect 14 0 15 0;
#X connect 15 0 39 0;
#X connect 24 0 25 0;
#X connect 25 0 41 0;
#X connect 26 0 4 0;
#X connect 27 0 16 0;
#X connect 28 0 1 0;
#X connect 29 0 23 0;
#X connect 30 0 6 0;
#X connect 31 0 17 0;
#X connect 32 0 8 0;
#X connect 33 0 18 0;
#X connect 34 0 10 0;
#X connect 35 0 19 0;
#X connect 36 0 12 0;
#X connect 37 0 20 0;
#X connect 38 0 14 0;
#X connect 39 0 21 0;
#X connect 40 0 24 0;
#X connect 41 0 22 0;
#X restore 528 75 pd lpy_adc;
#N canvas 916 332 364 346 lpy_stop_all 0;
#X obj -100 281 s all-off;
#X obj -73 217 s all-off-sequence;
#X obj -63 190 delay 100;
#X obj -90 254 delay 100;
#X obj -100 3 r stop-all;
#X msg 70 281 color 3 3 12;
#X obj 60 308 s stop-all-r;
#X msg 60 200 color 13 13 0;
#X obj -100 163 t b b;
#X obj -100 136 delay;
#X obj -100 109 t b f;
#X obj -90 82 s fade-out;
#X obj 60 119 r stop-all-immediate;
#X obj -100 55 f 3000;
#X obj -26 3 r fade-out;
#X obj 70 254 delay;
#X msg 60 146 200;
#X obj 60 173 t b f;
#X msg 70 227 bang;
#X floatatom -23 124 5 0 0 0 - - -;
#X obj -100 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 20 0;
#X connect 5 0 6 0;
#X connect 7 0 6 0;
#X connect 7 0 18 0;
#X connect 8 0 0 0;
#X connect 8 0 3 0;
#X connect 8 1 1 0;
#X connect 8 1 2 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 10 0 7 0;
#X connect 10 1 9 1;
#X connect 10 1 15 1;
#X connect 10 1 19 0;
#X connect 12 0 8 0;
#X connect 12 0 16 0;
#X connect 13 0 11 0;
#X connect 13 0 10 0;
#X connect 14 0 13 1;
#X connect 15 0 5 0;
#X connect 16 0 17 0;
#X connect 17 0 7 0;
#X connect 17 1 15 1;
#X connect 18 0 15 0;
#X connect 20 0 13 0;
#X restore 529 102 pd lpy_stop_all;
#N canvas 900 485 380 363 lpy_clear_all_led 0;
#X obj -155 117 pack f f;
#X obj -155 63 t b f;
#X obj -155 90 for++ 0 7 1;
#X obj -155 36 for++ 1 7 10;
#X msg -155 144 \; \$1-\$2-smp-led 0;
#X obj -155 -136 r clear-all-led;
#X msg -135 -82 bang;
#X obj -135 -55 pipe 200;
#X msg -135 -28 color 3 3 12;
#X obj -145 -1 s clear-all-led-r;
#X msg -145 -109 color 13 13 0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 5 0 10 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 6 0;
#X connect 10 0 9 0;
#X restore 529 122 pd lpy_clear_all_led;
#N canvas 301 373 401 448 lpy_clear_all_samples 0;
#X obj -255 248 for++ 1 7 10;
#X msg -255 275 \; \$1-row-clear bang;
#X obj -286 409 s quantize-r;
#X msg -286 382 2;
#X text -259 381 set initial quantization;
#X text -96 192 stop all samples & recorders;
#X msg -271 342 \; \$1-reset bang;
#X text -137 286 clear all rows/samples;
#X obj -271 315 for++ 1 7 1;
#X text -177 353 reset all recorders;
#X msg -266 44 bang;
#X obj -266 71 pipe 200;
#X msg -266 98 color 3 3 12;
#X msg -276 17 color 13 13 0;
#X obj -286 -10 r clear-all-sample;
#X obj -276 125 s clear-all-sample-r;
#X obj -286 164 t b b b b b;
#X text -144 218 clear all led's;
#X obj -239 218 s clear-all-led;
#X obj -223 191 s stop-all-immediate;
#X obj -185 164 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 1 0;
#X connect 3 0 2 0;
#X connect 8 0 6 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 13 0 10 0;
#X connect 13 0 15 0;
#X connect 14 0 13 0;
#X connect 14 0 16 0;
#X connect 16 0 3 0;
#X connect 16 1 8 0;
#X connect 16 2 0 0;
#X connect 16 3 18 0;
#X connect 16 4 19 0;
#X connect 20 0 19 0;
#X restore 529 142 pd lpy_clear_all_samples;
#X text 203 -148 LOOPY GLOBAL SETTINGS & CONTROLS;
#X text 527 -3 loopy specific;
#X text -27 -115 if row mode is multi \, also handles;
#X text -27 -105 play \, stop & led/ui messages;
#X text -27 -125 sample load \, clear;
#X text -45 -60 if row mode is single or cue \, also;
#X text -45 -50 handles play \, stop & led/ui messages;
#X text -45 -70 row load \, save clear;
#X text -16 -12 button press or audio;
#X text -115 -148 LOOPY CORE - SAMPLES \, ROWS \, SEQUENCE RECORDERS
;
#N canvas 0 0 602 840 lpy_scroll 0;
#X obj 24 267 f;
#X obj 9 321 f;
#X obj -6 375 f;
#X obj -21 429 f;
#X obj -36 483 f;
#X obj -51 537 f;
#X obj -66 591 f;
#X obj -81 645 f;
#X obj -261 140 t f b;
#X obj -81 242 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 24 294 pipe 10;
#X obj 9 348 pipe 10;
#X obj -6 402 pipe 10;
#X obj -21 456 pipe 10;
#X obj -36 510 pipe 10;
#X obj -51 564 pipe 10;
#X obj -66 618 pipe 10;
#X obj -98 20 qlist;
#X msg -134 -44 stop;
#X msg -88 -98 bang;
#X msg -88 -17 next;
#X msg -20 -44 rewind;
#X obj -88 -71 t b b;
#X msg 80 294 \; leds-col-out 7 \$1;
#X msg 65 348 \; leds-col-out 6 \$1;
#X msg 60 402 \; leds-col-out 5 \$1;
#X msg 45 456 \; leds-col-out 4 \$1;
#X msg 30 510 \; leds-col-out 3 \$1;
#X msg 15 564 \; leds-col-out 2 \$1;
#X msg 0 618 \; leds-col-out 1 \$1;
#X msg -13 672 \; leds-col-out 0 \$1;
#X obj -276 267 f;
#X obj -291 321 f;
#X obj -306 375 f;
#X obj -321 429 f;
#X obj -336 483 f;
#X obj -351 537 f;
#X obj -366 591 f;
#X obj -381 645 f;
#X obj -381 182 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -276 294 pipe 10;
#X obj -291 348 pipe 10;
#X obj -306 402 pipe 10;
#X obj -321 456 pipe 10;
#X obj -336 510 pipe 10;
#X obj -351 564 pipe 10;
#X obj -366 618 pipe 10;
#X msg -220 294 \; leds-col-out 15 \$1;
#X msg -235 348 \; leds-col-out 14 \$1;
#X msg -240 402 \; leds-col-out 13 \$1;
#X msg -255 456 \; leds-col-out 12 \$1;
#X msg -270 510 \; leds-col-out 11 \$1;
#X msg -285 564 \; leds-col-out 10 \$1;
#X msg -300 618 \; leds-col-out 9 \$1;
#X msg -313 672 \; leds-col-out 8 \$1;
#X obj -381 672 pipe 10;
#X obj -131 47 r monome-size;
#X text -47 34 1 = 64;
#X text -47 44 2 = 128 horizontal;
#X text -47 54 3 = 128 vertical (not used);
#X text -47 64 4 = 256 (not used);
#X obj -131 84 gate 4;
#X obj 39 140 t f b;
#X msg -98 -125 read lpy_scroll.txt;
#X obj -88 -44 metro 250;
#X connect 0 0 23 0;
#X connect 0 0 10 0;
#X connect 1 0 24 0;
#X connect 1 0 11 0;
#X connect 2 0 25 0;
#X connect 2 0 12 0;
#X connect 3 0 26 0;
#X connect 3 0 13 0;
#X connect 4 0 27 0;
#X connect 4 0 14 0;
#X connect 5 0 28 0;
#X connect 5 0 15 0;
#X connect 6 0 29 0;
#X connect 6 0 16 0;
#X connect 7 0 30 0;
#X connect 8 0 31 1;
#X connect 8 1 39 0;
#X connect 9 0 0 0;
#X connect 9 0 1 0;
#X connect 9 0 2 0;
#X connect 9 0 3 0;
#X connect 9 0 4 0;
#X connect 9 0 5 0;
#X connect 9 0 6 0;
#X connect 9 0 7 0;
#X connect 10 0 1 1;
#X connect 11 0 2 1;
#X connect 12 0 3 1;
#X connect 13 0 4 1;
#X connect 14 0 5 1;
#X connect 15 0 6 1;
#X connect 16 0 7 1;
#X connect 17 0 61 1;
#X connect 17 1 18 0;
#X connect 18 0 64 0;
#X connect 19 0 22 0;
#X connect 20 0 17 0;
#X connect 21 0 17 0;
#X connect 22 0 64 0;
#X connect 22 1 21 0;
#X connect 31 0 47 0;
#X connect 31 0 40 0;
#X connect 32 0 48 0;
#X connect 32 0 41 0;
#X connect 33 0 49 0;
#X connect 33 0 42 0;
#X connect 34 0 50 0;
#X connect 34 0 43 0;
#X connect 35 0 51 0;
#X connect 35 0 44 0;
#X connect 36 0 52 0;
#X connect 36 0 45 0;
#X connect 37 0 53 0;
#X connect 37 0 46 0;
#X connect 38 0 54 0;
#X connect 38 0 55 0;
#X connect 39 0 31 0;
#X connect 39 0 32 0;
#X connect 39 0 33 0;
#X connect 39 0 34 0;
#X connect 39 0 35 0;
#X connect 39 0 36 0;
#X connect 39 0 37 0;
#X connect 39 0 38 0;
#X connect 39 0 9 0;
#X connect 40 0 32 1;
#X connect 41 0 33 1;
#X connect 42 0 34 1;
#X connect 43 0 35 1;
#X connect 44 0 36 1;
#X connect 45 0 37 1;
#X connect 46 0 38 1;
#X connect 55 0 0 1;
#X connect 56 0 61 0;
#X connect 61 0 62 0;
#X connect 61 1 8 0;
#X connect 61 2 62 0;
#X connect 61 3 8 0;
#X connect 62 0 0 1;
#X connect 62 1 9 0;
#X connect 63 0 17 0;
#X connect 63 0 19 0;
#X connect 64 0 20 0;
#X restore 531 181 pd lpy_scroll;
#X text 262 -4 adjust repeat;
#N canvas 237 129 1005 447 sync 1;
#X obj -191 213 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj -301 269 select 0 1;
#X msg -301 346 252;
#X msg -273 346 250;
#X msg -228 346 248;
#X obj -228 373 midiout;
#X obj 77 251 notein;
#X obj 137 334 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 93 305 > 0;
#X obj 93 332 sel 1;
#X obj -110 114 hradio 20 1 0 4 empty empty empty 4 36 0 10 -262144
-1 -1 0;
#X msg 484 298 color 8 8 12;
#X obj 394 217 t f b b;
#X obj 394 271 list;
#X obj -80 17 r sync-master;
#X obj -49 37 r sync-slave-clock;
#X obj -20 57 r sync-slave-track;
#X obj 412 365 s sync-master-r;
#X obj 93 278 spigot;
#X obj 126 213 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 450 325 s sync-slave-track-r;
#X obj 431 345 s sync-slave-clock-r;
#X obj 93 400 s bpm-bang;
#X text -44 -2 ui sync mode selection;
#X text 143 207 click track input;
#X obj -92 238 midirealtimein;
#X obj -59 213 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj -54 346 + 1;
#X obj -92 292 sel 248 250;
#X obj -22 346 mod 24;
#X obj -22 373 sel 0;
#X obj -22 400 s bpm-bang;
#X obj -92 346 f -1;
#X obj -92 265 spigot;
#X obj -47 375 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -228 323 metro 20.8333;
#X obj -153 269 r mpb;
#X obj -227 269 r bpm-bang;
#X obj -360 269 r mpb;
#X obj -411 296 metro 500;
#X obj -411 373 s bpm-bang;
#X obj -172 -13 loadbang;
#X obj -401 331 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 10 77 r sync-mode-r;
#X obj 64 143 s sync-mode;
#X text 93 78 sync mode from config;
#X text 93 88 or saved set;
#X text 134 147 or saved set;
#X text 134 137 sync mode to config;
#X msg 413 244 color 28 28 0;
#X obj -110 -3 r sync-off;
#X text -29 115 sync mode: off \, master \, clock \, click track;
#X msg -20 77 3;
#X msg -49 57 2;
#X msg -80 37 1;
#X obj -59 186 == 2;
#X obj 126 186 == 3;
#X obj -191 186 == 1;
#X msg -110 17 0;
#X obj 394 298 route 0 1 2 3;
#X obj 394 385 s sync-off-r;
#X obj 314 331 sel 0;
#X obj 314 385 s sync-on-r;
#X msg 314 358 color 28 28 0;
#X obj -197 297 spigot;
#X text -231 387 output midi standard;
#X text -231 397 clock messages;
#X text -41 205 midi clock;
#X text -41 215 (Win only);
#X text -175 205 loopy as;
#X text -175 215 master clock;
#X text 143 217 may need to add;
#X text 143 227 channel selection?;
#X obj -191 238 t f f;
#X obj -344 185 <= 1;
#X obj -153 296 / 24;
#X msg -22 319 0;
#X obj -408 89 tgl 15 1 fresh-start fresh-start-r empty 17 7 0 10 -262144
-1 -1 0 1;
#X text -391 83 "fresh start" toggle;
#X text -390 93 on=no samples have been played;
#X text -390 103 since startup or stop all;
#X obj -411 242 r bpm-reset;
#X text -390 113 used with bpm-reset below to sync;
#X text -390 123 loopy clock with first button press;
#X obj -408 35 r all-off;
#X msg -408 62 1;
#X connect 0 0 73 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 6 1 18 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 9 0 22 0;
#X connect 10 0 12 0;
#X connect 10 0 44 0;
#X connect 10 0 55 0;
#X connect 10 0 56 0;
#X connect 10 0 57 0;
#X connect 10 0 74 0;
#X connect 11 0 17 0;
#X connect 11 0 20 0;
#X connect 11 0 21 0;
#X connect 11 0 60 0;
#X connect 11 0 62 0;
#X connect 12 0 13 0;
#X connect 12 0 61 0;
#X connect 12 1 49 0;
#X connect 12 2 11 0;
#X connect 13 0 59 0;
#X connect 14 0 54 0;
#X connect 15 0 53 0;
#X connect 16 0 52 0;
#X connect 18 0 8 0;
#X connect 19 0 18 1;
#X connect 25 0 33 0;
#X connect 26 0 33 1;
#X connect 27 0 29 0;
#X connect 28 0 32 0;
#X connect 28 1 76 0;
#X connect 29 0 30 0;
#X connect 29 0 32 1;
#X connect 30 0 31 0;
#X connect 30 0 34 0;
#X connect 32 0 27 0;
#X connect 33 0 28 0;
#X connect 35 0 4 0;
#X connect 36 0 75 0;
#X connect 37 0 64 0;
#X connect 38 0 39 1;
#X connect 39 0 40 0;
#X connect 39 0 42 0;
#X connect 41 0 58 0;
#X connect 43 0 10 0;
#X connect 49 0 13 1;
#X connect 50 0 58 0;
#X connect 52 0 10 0;
#X connect 53 0 10 0;
#X connect 54 0 10 0;
#X connect 55 0 26 0;
#X connect 56 0 19 0;
#X connect 57 0 0 0;
#X connect 58 0 10 0;
#X connect 59 0 60 0;
#X connect 59 1 17 0;
#X connect 59 2 21 0;
#X connect 59 3 20 0;
#X connect 61 1 63 0;
#X connect 63 0 62 0;
#X connect 64 0 35 0;
#X connect 73 0 1 0;
#X connect 73 1 64 1;
#X connect 74 0 39 0;
#X connect 75 0 35 1;
#X connect 76 0 29 0;
#X connect 81 0 39 0;
#X connect 84 0 85 0;
#X connect 85 0 77 0;
#X restore 203 -78 pd sync;
#X text 250 -78 master/slave clock sync options;
#N canvas 4 2 974 627 repeat 0;
#X msg -60 185 off;
#X msg -45 165 1/32;
#X msg -15 185 1/8;
#X msg 0 165 1/4;
#X obj -60 212 prepend label;
#X msg -30 145 1/16;
#X obj -60 125 sel 0 1 2 3 4;
#X obj 82 569 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 59 225 0;
#X msg 159 262 1;
#X obj 82 486 r bpm-bang;
#X msg 159 145 1;
#X msg 144 165 2;
#X msg 129 185 4;
#X msg 114 205 8;
#X obj 206 262 r mpb;
#X obj 206 289 f;
#X obj 82 540 metro;
#X obj 99 125 sel 0 1 2 3 4;
#X obj 206 316 /;
#X floatatom 238 317 5 0 0 0 - - -;
#X text 272 310 millisec's per;
#X obj 194 235 t b f;
#X obj 82 513 spigot;
#X text 147 491 to sync with main beat;
#X obj 99 64 f;
#X obj 135 64 + 1;
#X obj 119 42 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 139 41 click on ui;
#X obj 99 91 mod 5;
#X msg -43 407 color 8 8 12;
#X msg -24 380 color 28 28 0;
#X obj 130 296 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj -43 353 sel 0 1;
#X obj 119 16 r repeat-A;
#X obj 99 -11 r repeat-A-load;
#X text 195 -11 repeat A setting from config or save set;
#X obj -60 434 s repeat-A-r;
#X obj 102 567 s repeat-A-bang;
#X text 199 568 switch on only when repeat button pressed;
#X text 272 320 repeat beat;
#X text 147 481 forces repeat beat;
#X obj 115 353 r sequence-press;
#X obj 115 380 unpack f f f;
#X obj 115 434 * 0;
#X obj 115 461 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 35 486 sel 0;
#X msg 35 513 stop;
#X obj 115 407 expr if($f1==6 && $f2==1 \, 1 \, 0);
#X msg 390 185 off;
#X msg 405 165 1/32;
#X msg 435 185 1/8;
#X msg 450 165 1/4;
#X obj 390 212 prepend label;
#X msg 420 145 1/16;
#X obj 390 125 sel 0 1 2 3 4;
#X obj 532 569 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 509 225 0;
#X msg 609 262 1;
#X obj 532 486 r bpm-bang;
#X msg 609 145 1;
#X msg 594 165 2;
#X msg 579 185 4;
#X msg 564 205 8;
#X obj 656 262 r mpb;
#X obj 656 289 f;
#X obj 532 540 metro;
#X obj 549 125 sel 0 1 2 3 4;
#X obj 656 316 /;
#X floatatom 688 317 5 0 0 0 - - -;
#X text 722 310 millisec's per;
#X obj 644 235 t b f;
#X obj 532 513 spigot;
#X text 597 491 to sync with main beat;
#X obj 549 64 f;
#X obj 585 64 + 1;
#X obj 569 42 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 589 41 click on ui;
#X obj 549 91 mod 5;
#X msg 407 407 color 8 8 12;
#X msg 426 380 color 28 28 0;
#X obj 580 296 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 407 353 sel 0 1;
#X text 649 568 switch on only when repeat button pressed;
#X text 722 320 repeat beat;
#X text 597 481 forces repeat beat;
#X obj 565 353 r sequence-press;
#X obj 565 380 unpack f f f;
#X obj 565 434 * 0;
#X obj 565 461 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 485 486 sel 0;
#X msg 485 513 stop;
#X text 645 -11 repeat B setting from config or save set;
#X obj 549 -11 r repeat-B-load;
#X obj 569 16 r repeat-B;
#X obj 390 434 s repeat-B-r;
#X obj 565 407 expr if($f1==7 && $f2==1 \, 1 \, 0);
#X obj 552 567 s repeat-B-bang;
#X obj 191 125 s repeat-A-save;
#X obj 640 125 s repeat-B-save;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 37 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 6 1 1 0;
#X connect 6 2 5 0;
#X connect 6 3 2 0;
#X connect 6 4 3 0;
#X connect 8 0 32 0;
#X connect 8 0 45 0;
#X connect 9 0 32 0;
#X connect 10 0 23 0;
#X connect 11 0 22 0;
#X connect 12 0 22 0;
#X connect 13 0 22 0;
#X connect 14 0 22 0;
#X connect 15 0 16 0;
#X connect 16 0 19 0;
#X connect 17 0 7 0;
#X connect 17 0 38 0;
#X connect 18 0 8 0;
#X connect 18 1 14 0;
#X connect 18 2 13 0;
#X connect 18 3 12 0;
#X connect 18 4 11 0;
#X connect 19 0 20 0;
#X connect 19 0 17 1;
#X connect 22 0 16 0;
#X connect 22 0 9 0;
#X connect 22 1 19 1;
#X connect 23 0 17 0;
#X connect 25 0 29 0;
#X connect 26 0 25 1;
#X connect 27 0 25 0;
#X connect 29 0 26 0;
#X connect 29 0 6 0;
#X connect 29 0 18 0;
#X connect 29 0 98 0;
#X connect 30 0 37 0;
#X connect 31 0 37 0;
#X connect 32 0 33 0;
#X connect 32 0 44 1;
#X connect 33 0 30 0;
#X connect 33 1 31 0;
#X connect 34 0 27 0;
#X connect 35 0 25 0;
#X connect 42 0 43 0;
#X connect 43 0 48 0;
#X connect 43 2 48 1;
#X connect 44 0 45 0;
#X connect 45 0 23 1;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 47 0 17 0;
#X connect 48 0 44 0;
#X connect 49 0 53 0;
#X connect 50 0 53 0;
#X connect 51 0 53 0;
#X connect 52 0 53 0;
#X connect 53 0 95 0;
#X connect 54 0 53 0;
#X connect 55 0 49 0;
#X connect 55 1 50 0;
#X connect 55 2 54 0;
#X connect 55 3 51 0;
#X connect 55 4 52 0;
#X connect 57 0 81 0;
#X connect 57 0 89 0;
#X connect 58 0 81 0;
#X connect 59 0 72 0;
#X connect 60 0 71 0;
#X connect 61 0 71 0;
#X connect 62 0 71 0;
#X connect 63 0 71 0;
#X connect 64 0 65 0;
#X connect 65 0 68 0;
#X connect 66 0 56 0;
#X connect 66 0 97 0;
#X connect 67 0 57 0;
#X connect 67 1 63 0;
#X connect 67 2 62 0;
#X connect 67 3 61 0;
#X connect 67 4 60 0;
#X connect 68 0 69 0;
#X connect 68 0 66 1;
#X connect 71 0 65 0;
#X connect 71 0 58 0;
#X connect 71 1 68 1;
#X connect 72 0 66 0;
#X connect 74 0 78 0;
#X connect 75 0 74 1;
#X connect 76 0 74 0;
#X connect 78 0 75 0;
#X connect 78 0 55 0;
#X connect 78 0 67 0;
#X connect 78 0 99 0;
#X connect 79 0 95 0;
#X connect 80 0 95 0;
#X connect 81 0 82 0;
#X connect 81 0 88 1;
#X connect 82 0 79 0;
#X connect 82 1 80 0;
#X connect 86 0 87 0;
#X connect 87 0 96 0;
#X connect 87 2 96 1;
#X connect 88 0 89 0;
#X connect 89 0 72 1;
#X connect 89 0 90 0;
#X connect 90 0 91 0;
#X connect 91 0 66 0;
#X connect 93 0 74 0;
#X connect 94 0 76 0;
#X connect 96 0 88 0;
#X restore 203 -4 pd repeat;
#X text 624 102 stop/fade all samples;
